--[[
Bitpunk Conky Widget
ASUS Zenbook S 16 (UM5606) - KDE Plasma
Cyan/Magenta/Yellow Night City colour scheme - OLED optimised
]]

conky.config = {
    -- Window Settings
    own_window = true,
    own_window_class = 'Conky',
    own_window_type = 'normal',
    own_window_transparent = false,
    own_window_argb_visual = true,
    own_window_argb_value = 200,
    own_window_colour = '050505',
    own_window_hints = 'undecorated,below,sticky,skip_taskbar,skip_pager',

    -- Position (top-right corner)
    alignment = 'top_right',
    gap_x = 30,
    gap_y = 30,

    -- Size
    minimum_width = 400,
    maximum_width = 400,
    minimum_height = 770,

    -- Borders and padding
    border_width = 0,
    border_inner_margin = 22,
    border_outer_margin = 0,
    draw_borders = false,
    draw_outline = false,
    draw_shades = false,
    draw_graph_borders = false,

    -- Fonts
    use_xft = true,
    font = 'Inter:size=12',
    xftalpha = 1,
    override_utf8_locale = true,

    -- Update interval
    update_interval = 2.0,

    -- Performance
    cpu_avg_samples = 4,
    net_avg_samples = 2,
    no_buffers = true,
    double_buffer = true,
    text_buffer_size = 2048,
    imlib_cache_size = 0,

    -- Misc
    uppercase = false,
    use_spacer = 'none',
    short_units = true,
    pad_percents = 2,
    top_name_width = 15,
    top_name_verbose = false,

    -- Bitpunk Colours
    default_color = 'E0E8F0',  -- Primary text (cool off-white)
    color0 = '0ABDC6',         -- Cyan headers/highlights
    color1 = 'EA00D9',         -- Magenta values
    color2 = '8A9BAD',         -- Muted secondary text
    color3 = '08919A',         -- Cyan muted (dividers/borders)
    color4 = 'F3E600',         -- Yellow warning highlights
    color5 = 'FF4A57',         -- Red critical alerts
};

conky.text = [[
__CPU_SECTION_START__
${color0}${font Cascadia Code NF:size=14}󰍛${font}  ${color0}${font Inter:bold:size=12}CPU${font}  ${color2}·${color}  ${color1}${hwmon 8 temp 1}°C${color}
${color0}${cpubar 8}${color}
${color2}${font Inter:size=10}${cpu cpu0}%  ·  __CPU_NAME__${font}${color}
__CPU_SECTION_END__

__GPU_SECTION_START__
${voffset 8}${color0}${font Cascadia Code NF:size=14}󰢮${font}  ${color0}${font Inter:bold:size=12}GPU${font}  ${color2}·${color}  ${color1}${hwmon 7 temp 1}°C${color}
${color0}${execbar 8 cat /sys/class/drm/card1/device/gpu_busy_percent 2>/dev/null || echo 0}${color}
${color2}${font Inter:size=10}__GPU_NAME__${font}${color}
__GPU_SECTION_END__

${voffset 8}${color0}${font Cascadia Code NF:size=14}󰘚${font}  ${color0}${font Inter:bold:size=12}RAM${font}  ${color2}·${color}  ${color1}${mem} / ${memmax}${color}
${color0}${membar 8}${color}
${color2}${font Inter:size=10}${memperc}% used  ·  ${memfree} free${font}${color}

${voffset 8}${color0}${font Cascadia Code NF:size=14}󰋊${font}  ${color0}${font Inter:bold:size=12}DISK${font}  ${color2}/${color}
${color0}${fs_bar 8 /}${color}
${color2}${font Inter:size=10}${fs_used_perc /}%  ·  ${fs_free /} free${font}${color}

${voffset 8}${color0}${font Cascadia Code NF:size=14}󰈀${font}  ${color0}${font Inter:bold:size=12}NET${font}  ${color1}${execi 30 command -v nmcli >/dev/null && nmcli -t -f active,ssid dev wifi 2>/dev/null | grep '^yes' | cut -d: -f2 || echo ""}${color}
${color0}${downspeedgraph wlp195s0 25,175 0ABDC6 0ABDC6 -t}${alignr}${upspeedgraph wlp195s0 25,175 EA00D9 EA00D9 -t}${color}
${color0}${font JetBrains Mono:size=10}↓ ${downspeed wlp195s0}${alignr}${color1}↑ ${upspeed wlp195s0}${font}${color}
${color2}${font Inter:size=10}${addr wlp195s0}${font}${color}

__BATTERY_SECTION_START__
${voffset 8}${color0}${font Cascadia Code NF:size=14}󰁹${font}  ${color0}${font Inter:bold:size=12}BATTERY${font}${color}
${color0}${battery_bar 8 __BATTERY__}${color}
${if_match ${battery_percent __BATTERY__} <= 25}${color5}${else}${if_match ${battery_percent __BATTERY__} <= 40}${color4}${else}${color0}${endif}${endif}${font Inter:size=10}${battery_percent __BATTERY__}%  ·  ${battery_status __BATTERY__}${font}${color}
__BATTERY_SECTION_END__

${voffset 8}${color0}${font Cascadia Code NF:size=14}󰕮${font}  ${color0}${font Inter:bold:size=12}PROCESSES${font}${color}
${color2}${font JetBrains Mono:size=10}${top name 1}${goto 180}${color1}${top cpu 1}%${color2}${goto 240}${top mem_res 1}
${top name 2}${goto 180}${color1}${top cpu 2}%${color2}${goto 240}${top mem_res 2}
${top name 3}${goto 180}${color1}${top cpu 3}%${color2}${goto 240}${top mem_res 3}
${top name 4}${goto 180}${color1}${top cpu 4}%${color2}${goto 240}${top mem_res 4}
${top name 5}${goto 180}${color1}${top cpu 5}%${color2}${goto 240}${top mem_res 5}${font}${color}

${voffset 4}${color3}${hr 1}${color}
${color2}${font Inter:size=10}${alignc}${time %a %d %b  ·  %H:%M}${font}${color}
]];
